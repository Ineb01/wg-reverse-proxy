http:
  middlewares:
    ipwhitelist:
      ipWhiteList:
        # Add your allowed IP addresses here (examples below)
        sourceRange:
          - "127.0.0.1/32"          # localhost
          - "192.168.0.0/16"        # local network
          - "172.16.0.0/12"        # docker network
          - "130.61.107.184/32"     # OCI instance

  services:
    ollama:
      loadBalancer:
        servers:
          - url: "http://192.168.0.102:11434"

  routers:
    ollama:
      rule: "Host(`ollama.wg.dphx.eu`)"
      service: "ollama"
      entryPoints:
        - "websecure"
      middlewares:
        - "ipwhitelist"
      tls:
        certResolver: letsencrypt
